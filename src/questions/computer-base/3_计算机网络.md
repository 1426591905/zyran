# 计算机网络

## 网络协议是什么

#### 类型：`基础`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（1 分）

- **1：** 在计算机网络要做到井井有条的交换数据，就必须遵守一些事先约定好的规则，比如交换数据的格式、是否需要发送一个应答信息。这些规则被称为网络协议。

## 什么是TCP/IP和UDP

#### 类型：`基础`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（2 分）

- **1：** TCP/IP即传输控制/网络协议，是面向连接的协议，发送数据前要先建立连接(发送方和接收方的成对的两个之间必须建 立连接)，TCP提供可靠的服务，也就是说，通过TCP连接传输的数据不会丢失，没有重复，并且按顺序到达
- **1：** UDP它是属于TCP/IP协议族中的一种。是无连接的协议，发送数据前不需要建立连接，是没有可靠性的协议。因为不需要建立连接所以可以在在网络上以任何可能的路径传输，因此能否到达目的地，到达目的地的时间以及内容的正确性都是不能被保证的

## TCP与UDP区别是什么

#### 类型：`编程`

#### 级别：`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（8 分）

- **1：** TCP是面向连接的协议，发送数据前要先建立连接，TCP提供可靠的服务，也就是说，通过TCP连接传输的数据不会丢失，没有重复，并且按顺序到达
- **1：** UDP是无连接的协议，发送数据前不需要建立连接，是没有可靠性；
- **1：** TCP通信类似于于要打个电话，接通了，确认身份后，才开始进行通行；
- **1：** UDP通信类似于学校广播，靠着广播播报直接进行通信。
- **1：** TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多；
- **1：** TCP是面向字节流的，UDP是面向报文的； 面向字节流是指发送数据时以字节为单位，一个数据包可以拆分成若干组进行发送，而UDP一个报文只能一次发完。
- **1：** TCP首部开销（20字节）比UDP首部开销（8字节）要大
- **1：** UDP 的主机不需要维持复杂的连接状态表

## HTTP和HTTPS的区别是什么？

#### 类型：`基础`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（5 分）

- **1：** 安全性：

  + HTTP是明文传输，数据可能被窃听和篡改
  + HTTPS通过SSL/TLS加密，提供数据加密、身份认证和数���完整性保护
- **1：** 端口：

  + HTTP默认使用80端口
  + HTTPS默认使用443端口
- **1：** 证书：

  + HTTP不需要证书
  + HTTPS需要CA机构颁发的SSL证书
- **1：** 性能：

  + HTTP性能更好，因为没有加密解密过程
  + HTTPS因为需要加密解密，性能会有所损耗
- **1：** 使用场景：

  + HTTP适用于对安全要求不高的场景
  + HTTPS适用于需要保护用户隐私和数据安全的场景

## 什么是跨域？如何解决跨域问题？

#### 类型：`基础`

#### 级别：`W1`、`W2`、`W3`、`W4`、`W5`、`W6`

#### 解答（6 分）

- **1：** 什么是跨域：

  + 浏览器的同源策略限制，不同源（协议、域名、端口）之间的请求被视为跨域请求
  + 同源策略是浏览器的一个重要的安全机制，防止恶意网站窃取数据
- **1：** CORS（跨域资源共享）：

  + 使用场景：现代浏览器的首选跨域解决方案，适用于REST API
  + 优点：支持所有类型的HTTP请求，配置灵活
  + 缺点：需要服务器配合，老版本浏览器可能不支持

```javascript
// 服务器端设置
app.use((req, res, next) => {
  res.header('Access-Control-Allow-Origin', '*');
  res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');
  res.header('Access-Control-Allow-Headers', 'Content-Type');
  next();
});
```

- **1：** JSONP：
  + 使用场景：兼容老版本浏览器，只需要GET请求的场景
  + 优点：兼容性好，实现简单
  + 缺点：只支持GET请求，可能存在安全问题

```javascript
function jsonp(url, callback) {
  const script = document.createElement('script');
  script.src = `${url}?callback=${callback}`;
  document.body.appendChild(script);
}
```

- **1：** 代理服务器：
  + 使用场景：需要隐藏跨域细节，适合生产环境
  + 优点：可以集中处理跨域问题，对前端透明
  + 缺点：需要额外的服务器配置和维护

```javascript
// nginx配置示例
location /api {
  proxy_pass http://backend-server;
  proxy_set_header Host $host;
  proxy_set_header X-Real-IP $remote_addr;
}
```

- **1：** postMessage：
  + 使用场景：iframe跨域通信，不同标签页通信
  + 优点：可以实现跨窗口通信，安全性好
  + 缺点：使用相对复杂，需要双方页面都进行相应处理

```javascript
// 发送消息
window.postMessage('Hello', 'http://receiver.com');

// 接收消息
window.addEventListener('message', (event) => {
  if (event.origin !== 'http://sender.com') return;
  console.log(event.data);
});
```

- **1：** WebSocket：
  + 使用场景：需要实时双向通信的场景
  + 优点：支持全双工通信，没有跨域限制
  + 缺点：需要专门的服务器支持，协议和HTTP不同

```javascript
const ws = new WebSocket('ws://example.com');
ws.onmessage = (event) => {
  console.log(event.data);
};
```
